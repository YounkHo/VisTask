<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>layout åå°å¤§å¸ƒå±€ - Layui</title>
  <link rel="stylesheet" type="text/css" href="../css/main.css">
  <link rel="stylesheet" type="text/css" href="../css/radar-chart.css">
  <link rel="stylesheet" type="text/css" href="../layui/css/layui.css">
  <link rel="stylesheet" type="text/css" href="../css/bootstrap-datetimepicker.css">
  <link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
  <script src="../js/jquery-3.3.1.min.js" type="text/javascript"></script>
  <script src="../js/popper.min.js" type="text/javascript"></script>
  <script src="../js/d3.v3.js" type="text/javascript"></script>
  <script src="../js/function.js" type="text/javascript"></script>
  <script src="../js/bootstrap.min.js" type="text/javascript"></script>
  <script src="../js/bootstrap-datetimepicker.js" type="text/javascript"></script>
  <script src="../js/colorbrewer.js" type="text/javascript" ></script>
  <script src="../layui/layui.js" type="text/javascript"></script>
	<style type="text/css">
		body, html{width: 100%;height: 100%;margin:0;font-family:"å¾®è½¯é›…é»‘";}
		#map{left: 35%;height:800px;width:500px;position: absolute;}
		#r-result{left: 40%;top: 95%;height:20%;width:20%; font-size:14px;position: absolute;}
		.radar-chart .area {fill-opacity: 0.7;}
	    .radar-chart.focus .area {fill-opacity: 0.3;}
	    .radar-chart.focus .area.focused {fill-opacity: 0.9;}
	    .area.germany, .germany .circle {fill: #FFD700;stroke: none;}
	    .area.argentina, .argentina .circle {fill: #ADD8E6;stroke: none;}
	</style>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=qMUSRkXavkGBE9bllLVCP24j24RDgT6r"></script>
<script type="text/javascript" src="http://api.map.baidu.com/library/RectangleZoom/1.2/src/RectangleZoom_min.js"></script>
</head>
<body class="layui-layout-body">
<input type="hidden" value="18022345" id="item_id">
<div class="layui-layout layui-layout-admin">
  <div class="layui-header layui-row">
    <div class="layui-logo layui-col-md5">è¯¾é¢˜å°ç»„äºŒ</div>
    <div class="layui-col-md5 layui-col-md-offset5" id="name" style="color: white;font-size: 40px;">
               è¯„è®ºæ•°æ®å¯è§†åŒ–
    </div>
    <div style="text-align: center">
      <img width="32px" height="32px" id="fullscreen" style="margin: 10px" data-toggle="fullscreentips" title="åˆ‡æ¢å…¨å±" onclick="fullscreen()" src="../img/fullscreen.png" class="float-right img-fluid">
    </div>
  </div>


<div style="padding: 20px; background-color: #F2F2F2;">

    <div class="layui-col-md12">
        <div class="layui-card">
          <div class="layui-card-header">
            <div class="layui-row">
              <div class="layui-col-md4">Map Chart</div>

              <div class="layui-col-md4 layui-col-md-offset1" id="title" style="color: red;font-size: 16px">
               iceæ£®æ—é²œæ¦¨æœæ±åº—
              </div>
              <div class="time layui-col-md1 ">
                  <select id="type" class="selectpicker show-tick form-control" style="width:auto; height: auto" data-live-search="true">
                  </select>
                </div>
              <div class="time layui-col-md1 " style="margin-left: 5px">
                <img width="24px" height="24px" id="choose" data-toggle="choose_map" title="æ¡†é€‰æ”¾å¤§" src="../img/choose.png" ></div>
                <img width="24px" height="24px" id="cancelchoose" data-toggle="cancelchoose_map" title="å–æ¶ˆæ¡†é€‰æ”¾å¤§" src="../img/cancelchoose.png" ></div>
              </div>
              </div>
            </div>
          <div class="layui-card-body" style="height: 600px;padding: 3px" id="map-chart">
          </div>
        </div>
      </div>

  <div class="layui-row layui-col-space15" style="background-color: #F2F2F2;">
    <div class="layui-col-md4" id="tempral-parent">
      <div class="layui-card">
        <div class="layui-card-header">
            <div class="layui-row">
              <div class="layui-col-md4">Temporal Chart</div>
              <div class="layui-col-md1 layui-col-md-offset6">
                  <select id="year" class="selectpicker show-tick form-control" style="width:auto; height: auto" data-live-search="true">
                  </select>
                </div>
              </div>
            </div>
        <div class="layui-card-body" id="temporal-chart">
        </div>
      </div>
    </div>
    <div class="layui-col-md4">
      <div class="layui-card">
        <div class="layui-card-header">Radar Chart</div>
        <div class="layui-card-body" id="radar">

        </div>
      </div>
    </div>
  <div class="layui-col-md4">
        <div class="layui-card">
          <div class="layui-card-header">Word Chart</div>
          <div class="layui-card-body" id="cloud">

          </div>
        </div>
      </div>
  </div>
</div>
<button id="floatbtn" class="btn btn-success btn-circle btn-xl" data-placement="top" data-toggle="popover" data-trigger="hover" data-target="#myModal"></button>
        <div class="modal fade" id="myModal">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title"><a href="http://176.122.131.25:8089/VisTaskData/Visualization/html/visualization.html"> è¯„è®ºæ•°æ®å¯è§†åŒ– </a></h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        é¦–å…ˆç°å¸¸æ„Ÿè°¢æ‚¨åœ¨æ¼«é•¿çš„åŠ è½½åè§‚çœ‹<a class=".text-center .font-italic" href="#"> è¥¿å—ç§‘æŠ€å¤§å­¦è½¯ä»¶1606 ğŸ®ğŸºå°ç»„ </a> æ¨å‡ºçš„çš„è¯„è®ºæ•°æ®å¯è§†åŒ–ä½œå“ï¼ˆæ¬¢è¿åœ¨Githubä¸Šç»™æˆ‘ä»¬ä¸ªStarï¼š<a class=".text-center .font-italic" href="https://github.com/Dreamcreationman/VisTask" target="_blank"> Githubä¼ é€é—¨ </a>ï¼‰ï¼Œç”±äºéœ€è¦åŠ è½½çš„æ–‡ä»¶è¾ƒå¤šå¹¶ä¸”åŒ…å«åœ¨çº¿jsï¼Œæ•…éœ€è¦é…åˆWSæˆ–è€…HBuilderç­‰å¹¶è”ç½‘è§‚çœ‹ã€‚å…¶ä¸­æœ‰ä¸€äº›é‡è¦çš„é—®é¢˜éœ€è¦æŒ‡å‡ºï¼š</br></br>
                        <code>1. æ¡†æ¶ï¼š</code>
                        UIé‡‡ç”¨Layui+Boostrap4å°½é‡æ„å»ºå¤šæ˜¾ç¤ºå™¨é€‚é…ï¼Œä¸»è¦ä½¿ç”¨d3æ„å»ºæ•´ä½“é€»è¾‘å’ŒåŠ¨ç”»è¿‡æ¸¡ï¼ˆç”±äºæ—¶é—´é—®é¢˜æ²¡åšå¤šå°‘ï¼‰ï¼Œé‡‡ç”¨colorbrewerä½œä¸ºä¸»è¦é…è‰²æ–¹æ¡ˆï¼ŒGitåšä¸»è¦çš„ä»£ç ååŒã€‚</br>
                        <code>2. æç¤ºï¼š</code>
                        <table border="1">
                            <tr>
                                <td>Map Chartè§†å›¾</td>
                                <td>è¯¥è§†å›¾å±•ç¤ºå„ä¸ªåº—é“ºçš„å…·ä½“ç©ºé—´ä½ç½®</td>
                            </tr>
                            <tr>
                                <td>Temporal Chartè§†å›¾</td>
                                <td>è¯¥è§†å›¾å±•ç¤ºé€‰å®šç«™ç‚¹ä¸€å¹´ä»¥æ¥çš„å…·ä½“è¯„è®ºæƒ…å†µ</td>
                            </tr>
                            <tr>
                                <td>Temporal Chartè§†å›¾</td>
                                <td>è¯¥è§†å›¾å±•ç¤ºäº†é€‰å®šåº—é“ºçš„åŸºæœ¬è¯„åˆ†æƒ…å†µ</td>
                            </tr>
                            <tr>
                                <td>Word ChartRegion DataVisè§†å›¾</td>
                                <td>è¯¥è§†å›¾å±•ç¤ºäº†å„ä¸ªæµåŸŸçš„é€‰å®šæŒ‡æ ‡çš„æœˆå¹³å‡æƒ…å†µ</td>
                            </tr>
                        </table>
                        <code>3. æ€»ç»“ï¼š</code>
                        <dl>
                            <dt>æ•°æ®è·å–</dt>
                            <dd>Â· chromeä¸æ”¯æŒæœ¬åœ°fileåè®®ï¼Œæ‰€ä»¥éœ€è¦è‡ªå»ºæœåŠ¡å™¨æˆ–ç»“åˆServer-Based IDEä½¿ç”¨</dd>
                            <dt>æ•°æ®å¤„ç†</dt>
                            <dd>Â· ç”±äºèƒ½åŠ›ã€æ—¶é—´ç­‰åŸå› ï¼Œæœ¬æ¬¡æ•°æ®å¯è§†åŒ–æœªä½œä»£ç ä¼˜åŒ–å·¥ä½œï¼Œå¾ˆå¤šæ•°æ®è¿˜æœ‰å¾…ä¼˜åŒ–ï¼Œæ•¬è¯·è°…è§£ï¼</dd>
                            <dt>å¯è§†åŒ–å±•ç¤º</dt>
                            <dd>Â· å¼€å§‹æƒ³ç”¨å“åº”å¼å¸ƒå±€ï¼Œä½†æ˜¯è¶Šåˆ°åé¢è¶Šæ‡µé€¼ï¼Œç°åœ¨åªæ˜¯å°½é‡åšäº†é€‚é…ï¼Œç»æµ‹è¯•åœ¨1920x1080çš„æ˜¾ç¤ºå™¨ä¸Šæœ‰æœ€ä½³æ•ˆæœï¼Œåœ¨å¤§éƒ¨åˆ†åˆ†è¾¨ç‡ä¸Šæ˜¾ç¤ºè¾ƒä¸ºæ­£å¸¸ï¼</dd>
                        </dl>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">å…³é—­</button>
                    </div>
                </div>
            </div>
        </div>

</div>
<div id="hobby" class="hobby layui-form">
    <div class="hobby-item">æ¶ˆè´¹ï¼š<div id="cost" style="padding-top: 5px"></div></div>
    <div class="hobby-item">å‘³é“ï¼š<div id="taste" style="padding-top: 5px"></div></div>
    <div class="hobby-item">ç¯å¢ƒï¼š<div id="environment" style="padding-top: 5px"></div></div>
    <div class="hobby-item">æœåŠ¡ï¼š<div id="service" style="padding-top: 5px"></div></div>
    <label class="layui-form-label">èŒƒå›´</label>
     <div class="layui-input-block">
      <input type="number" lay-verify="number"  id="rank" value="3" autocomplete="off" class="layui-input" style="padding-top: 5px">
    </div>
</div>
</body>
<script>
//JavaScriptä»£ç åŒºåŸŸ
var cost = 10
var taste = 10
var environment = 10
var service = 10
var global_type = "å’–å•¡å… "
var rank = 10
var resData
var map
layui.use(['element', 'layer', 'slider', 'form'], function(){
  var element = layui.element;
  var slider = layui.slider;
  var form = layui.form;

  //ç›‘å¬æäº¤
  form.on('submit(formDemo)', function(data){
    layer.msg(JSON.stringify(data.field));
    return false;
  });
  slider.render({
    elem: '#cost',  //ç»‘å®šå…ƒç´ 
      max:10,
      value:10,
      theme: "#017BFF",
      setTips: function(value){ //è‡ªå®šä¹‰æç¤ºæ–‡æœ¬
        return 'æ¶ˆè´¹æƒé‡ä¸ºï¼š'+value;
      },
      change: function(value){
        cost = value[1]
        //do something
      }
  });
  slider.render({
    elem: '#taste',  //ç»‘å®šå…ƒç´ 
      max:10,
      value:10,
      theme: "#FFC107",
      setTips: function(value){ //è‡ªå®šä¹‰æç¤ºæ–‡æœ¬
        return 'å£å‘³æƒé‡ä¸ºï¼š'+value;
      },
      change: function(value){
        taste = value[1]
        //do something
      }
  });
  slider.render({
    elem: '#environment',  //ç»‘å®šå…ƒç´ 
      max:10,
      value:10,
      theme: "#28A745",
      setTips: function(value){ //è‡ªå®šä¹‰æç¤ºæ–‡æœ¬
        return 'ç¯å¢ƒæƒé‡ä¸ºï¼š'+value;
      },
      change: function(value){
        environment = value[1]
        //do something
      }
  });
  slider.render({
    elem: '#service',  //ç»‘å®šå…ƒç´ 
      max:10,
      value:10,
      theme: "#DB3444",
      setTips: function(value){ //è‡ªå®šä¹‰æç¤ºæ–‡æœ¬
        return 'æœåŠ¡æƒé‡ä¸ºï¼š'+value;
      },
      change: function(value){
        service = value[1]
        //do something
      }
  });
   var layer = layui.layer;
    layer.msg('æ¬¢è¿æ¥åˆ°è¯„è®ºæ•°æ®å¯è§†åŒ–ç•Œé¢');
    layer.open({
      type: 1,
        btn:['ç¡®å®š'],
        title:'ä¸ªäººåå¥½è®¾ç½®',
        skin: 'demo-class',
        area: ['530px', '360px'],
        offset: 'l',
        shade :0,
        closeBtn :2,
        scrollbar:false,
      content: $('#hobby') , //è¿™é‡Œcontentæ˜¯ä¸€ä¸ªæ™®é€šçš„String
        yes: function(index, layero){
            //do something
            getBestTen(cost, taste, environment, service, global_type, resData, map)
            //layer.close(index); //å¦‚æœè®¾å®šäº†yeså›è°ƒï¼Œéœ€è¿›è¡Œæ‰‹å·¥å…³é—­
          }
    });
});
d3.csv("../data/item2.csv", function (err, res) {
  if (err)
    return
  var types = getTypes(res)
  var typecolor = d3.scale.quantize()
            .domain([0, types.length])
            .range(["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]);

  for (var i = 0; i < types.length; i++) {
    var select = document.getElementById("type")
    var option = document.createElement("option")
    option.innerHTML = types[i]
    option.style.color = typecolor(i)
    select.append(option)
  }
})
</script>
<script src="../js/radar-chart.js"></script>
<script src="../js/d3.layout.cloud.js"></script>
<script type="text/javascript">
	RadarChart.defaultConfig.color = function() {return '#EB7347'};
	RadarChart.defaultConfig.radius = 5;	// ç»˜åˆ¶ç‚¹çš„åŠå¾„
</script>
<script src="../js/radarDraw.js"></script>
<script type="text/javascript" src="../js/temporal_chart.js"></script>
<script src="../js/cloudDraw.js"></script>
<script type="text/javascript" src="../js/map_chart.js"></script>
<script type="text/javascript" src="../js/run.js"></script>
<script src="../js/floatbutton.js" type="text/javascript" ></script>
</html>
